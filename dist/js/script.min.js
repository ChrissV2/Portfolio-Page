"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){var o;if(t)return"string"==typeof t?_arrayLikeToArray(t,e):"Map"===(o="Object"===(o=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:o)||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(t,e):void 0}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,r=new Array(e);o<e;o++)r[o]=t[o];return r}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_toPropertyKey(r.key),r)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){t=_toPrimitive(t,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(t,e){if("object"!==_typeof(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0===o)return("string"===e?String:Number)(t);o=o.call(t,e||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}var blob,photoContainer,photos,myElement,bounding,myElementHeight,myElementWidth,sliderContainer,sliderItems,sliderControlsContainer,sliderControls,body,contactFormLabels,contactFormTextArea,contactFormTextAreaLabel,label,textAreaLabel,portfolioCarousel,hamburgerBtn,navMenu,navMenuItems,aboutmeTextBox,contactInputs,nameInput,mailInput,errorMsgName,errorMsgMail,errorMsgTextArea,contactFromBtn,contactForm,modal,closeModalBtn,errorCount=0,main=function(){prepareDOMElements(),prepareDOMEvents(),checkUrlParameters()},prepareDOMElements=function(){blob=document.querySelector(".blob"),photoContainer=document.querySelector(".aboutme__container"),photos=document.querySelectorAll(".aboutme__container-photo"),myElement=document.getElementById("aboutmePhoto"),bounding=myElement.getBoundingClientRect(),myElementHeight=myElement.offsetHeight-400,myElementWidth=myElement.offsetWidth,sliderContainer=document.querySelector(".portfolio__list"),sliderItems=document.querySelectorAll(".portfolio__list-item"),sliderControlsContainer=document.querySelector(".portfolio__list-controls"),sliderControls=["previous","next"],body=document.querySelector("body"),contactFormLabels=document.querySelectorAll(".contact__form-label"),contactFormTextArea=document.querySelector(".contact__form-textArea"),contactFormTextAreaLabel=document.querySelector(".contact__form-label--msg"),portfolioCarousel=new Carousel(sliderContainer,sliderItems,sliderControls),hamburgerBtn=document.querySelector(".nav__btn"),navMenu=document.querySelector(".nav__menu"),navMenuItems=document.querySelectorAll(".nav__menu-item"),aboutmeTextBox=document.querySelector(".aboutme__textBox"),contactInputs=document.querySelectorAll(".contact__form-input"),nameInput=document.querySelector(".contact__form-input--name"),mailInput=document.querySelector(".contact__form-input--mail"),errorMsgName=document.querySelector(".contact__form-errorMsg--name"),errorMsgMail=document.querySelector(".contact__form-errorMsg--mail"),errorMsgTextArea=document.querySelector(".contact__form-errorMsg--message"),contactFromBtn=document.querySelector(".contact__form-btn"),contactForm=document.querySelector(".contact__form"),modal=document.querySelector(".contact__modal"),closeModalBtn=document.querySelector(".contact__modal-closeBtn")},prepareDOMEvents=function(){body.addEventListener("click",handleContactAnimation),body.addEventListener("focus",handleContactAnimation),window.addEventListener("scroll",elementInViewport),portfolioCarousel.setControls(),portfolioCarousel.useControls(),portfolioCarousel.startAutoSlide(),hamburgerBtn.addEventListener("click",handleNavAnimation),hamburgerBtn.addEventListener("click",function(){var t=hamburgerBtn.getAttribute("data-state");t&&"closed"!==t?(hamburgerBtn.setAttribute("data-state","closed"),hamburgerBtn.setAttribute("aria-expanded","false")):(hamburgerBtn.setAttribute("data-state","opened"),hamburgerBtn.setAttribute("aria-expanded","true"))}),contactInputs.forEach(function(t){t.addEventListener("focus",handleContactAnimation)}),contactFormTextArea.addEventListener("focus",handleContactAnimation),contactFromBtn.addEventListener("click",countErrors),closeModalBtn.addEventListener("click",closeModal)},Carousel=function(){function r(t,e,o){_classCallCheck(this,r),this.carouselContainer=t,this.carouselControls=o,this.carouselArray=_toConsumableArray(e),this.slideInterval=null,this.slideDelay=3e3}return _createClass(r,[{key:"updateGallery",value:function(){this.carouselArray.forEach(function(t){t.classList.remove("portfolio__list-item--1"),t.classList.remove("portfolio__list-item--2"),t.classList.remove("portfolio__list-item--3")}),this.carouselArray.slice(0,3).forEach(function(t,e){t.classList.add("portfolio__list-item--".concat(e+1))})}},{key:"setCurrentState",value:function(t){"portfolio__list-controls-next"==t.className?this.carouselArray.unshift(this.carouselArray.pop()):this.carouselArray.push(this.carouselArray.shift()),this.updateGallery()}},{key:"setControls",value:function(){this.carouselControls.forEach(function(t){sliderControlsContainer.appendChild(document.createElement("button")).className="portfolio__list-controls-".concat(t)})}},{key:"useControls",value:function(){var o=this;_toConsumableArray(sliderControlsContainer.childNodes).forEach(function(e){e.addEventListener("click",function(t){t.preventDefault(),o.setCurrentState(e),o.stopAutoSlide()})})}},{key:"startAutoSlide",value:function(){var t=this;this.slideInterval=setInterval(function(){t.setCurrentState(t.carouselControls[0])},this.slideDelay)}},{key:"stopAutoSlide",value:function(){clearInterval(this.slideInterval)}}]),r}();function elementInViewport(){var t=myElement.getBoundingClientRect();t.top>=-myElementHeight&&t.left>=-myElementWidth&&t.right<=(window.innerWidth||document.documentElement.clientWidth)+myElementWidth&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)+myElementHeight?(photoContainer.classList.add("aboutme__container-transformed"),photos[0].classList.add("aboutme__container-photo-transformed--fourth"),photos[1].classList.add("aboutme__container-photo-transformed--third"),photos[2].classList.add("aboutme__container-photo-transformed--second"),photos[3].classList.add("aboutme__container-photo-transformed--first")):(photoContainer.classList.remove("aboutme__container-transformed"),photos[0].classList.remove("aboutme__container-photo-transformed--fourth"),photos[1].classList.remove("aboutme__container-photo-transformed--third"),photos[2].classList.remove("aboutme__container-photo-transformed--second"),photos[3].classList.remove("aboutme__container-photo-transformed--first"))}window.onpointermove=function(t){var e=t.clientX,t=t.clientY;860<innerWidth&&scrollY<=3100&&blob&&blob.animate({left:"".concat(e,"px"),top:"".concat(t+window.scrollY,"px")},{duration:3e3,fill:"forwards"})};var handleContactAnimation=function(t){t.target.matches(".contact__form-input")?(removeContactAnimation(),(label=t.target.closest("div").querySelector(".contact__form-label")).classList.add("contact__form-label--moved")):t.target.matches(".contact__form-textArea")?(removeContactAnimation(),(textAreaLabel=t.target.closest("div").querySelector(".contact__form-label")).classList.add("contact__form-label--msgMoved")):removeContactAnimation()},removeContactAnimation=function(){contactFormLabels.forEach(function(t){var e=t.getAttribute("for");""===document.getElementById(e).value.trim()&&t.classList.remove("contact__form-label--moved")}),""===contactFormTextArea.value.trim()&&contactFormTextAreaLabel.classList.remove("contact__form-label--msgMoved")},handleNavAnimation=function(){navMenu.classList.toggle("nav__menu--active"),body.classList.toggle("overflowHidden"),navMenuItems.forEach(function(t){t.addEventListener("click",function(){navMenu.classList.remove("nav__menu--active"),hamburgerBtn.setAttribute("data-state","closed"),hamburgerBtn.setAttribute("aria-expanded","false"),body.classList.remove("overflowHidden")})})},clearInputs=function(){nameInput.value="",mailInput.value="",contactFormTextArea.value=""},validateName=function(){""===nameInput.value?(errorMsgName.classList.add("contact__form-errorMsg--active"),errorCount++):errorMsgName.classList.remove("contact__form-errorMsg--active")},validateMail=function(){/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,4})$/i.test(mailInput.value)?errorMsgMail.classList.remove("contact__form-errorMsg--active"):(errorMsgMail.classList.add("contact__form-errorMsg--active"),errorCount++)},validateTextArea=function(){""===contactFormTextArea.value?(errorMsgTextArea.classList.add("contact__form-errorMsg--active"),errorCount++):errorMsgTextArea.classList.remove("contact__form-errorMsg--active")},countErrors=function(t){t.preventDefault(),validateName(),validateMail(),validateTextArea(),0!==errorCount?errorCount=0:0===errorCount&&(contactForm.submit(),clearInputs(),errorCount=0)},checkUrlParameters=function(){"?mail_status=sent"===document.location.search?(modal.classList.add("contact__modal--active"),body.classList.add("overflowHidden")):"?mail_status=error"===document.location.search&&(alert("Błąd wysyłania wiadomości"),console.log("Błąd")),setTimeout(function(){var t=window.location.pathname+window.location.search.replace("?mail_status=sent","");window.history.replaceState({},document.title,t)},3e3)},closeModal=function(){modal.classList.remove("contact__modal--active"),body.classList.remove("overflowHidden")};document.addEventListener("DOMContentLoaded",main);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJibG9iIiwicGhvdG9Db250YWluZXIiLCJwaG90b3MiLCJteUVsZW1lbnQiLCJib3VuZGluZyIsIm15RWxlbWVudEhlaWdodCIsIm15RWxlbWVudFdpZHRoIiwic2xpZGVyQ29udGFpbmVyIiwic2xpZGVySXRlbXMiLCJzbGlkZXJDb250cm9sc0NvbnRhaW5lciIsInNsaWRlckNvbnRyb2xzIiwiYm9keSIsImNvbnRhY3RGb3JtTGFiZWxzIiwiY29udGFjdEZvcm1UZXh0QXJlYSIsImNvbnRhY3RGb3JtVGV4dEFyZWFMYWJlbCIsImxhYmVsIiwidGV4dEFyZWFMYWJlbCIsInBvcnRmb2xpb0Nhcm91c2VsIiwiaGFtYnVyZ2VyQnRuIiwibmF2TWVudUl0ZW1zIiwicHJlcGFyZURPTUVsZW1lbnRzIiwicHJlcGFyZURPTUV2ZW50cyIsImNoZWNrVXJsUGFyYW1ldGVycyIsImVycm9yTXNnTmFtZSIsImVycm9yTXNnTWFpbCIsInF1ZXJ5U2VsZWN0b3IiLCJlcnJvck1zZ1RleHRBcmVhIiwiY29udGFjdEZyb21CdG4iLCJxdWVyeVNlbGVjdG9yQWxsIiwiY29udGFjdEZvcm0iLCJnZXRFbGVtZW50QnlJZCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIm9mZnNldEhlaWdodCIsIm9mZnNldFdpZHRoIiwiZG9jdW1lbnQiLCJuYXZNZW51IiwiYWJvdXRtZVRleHRCb3giLCJjb250YWN0SW5wdXRzIiwibmFtZUlucHV0IiwibWFpbElucHV0IiwibW9kYWwiLCJjbG9zZU1vZGFsQnRuIiwid2luZG93IiwidXNlQ29udHJvbHMiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlTmF2QW5pbWF0aW9uIiwiY3VycmVudFN0YXRlIiwic2V0Q29udHJvbHMiLCJoYW5kbGVDb250YWN0QW5pbWF0aW9uIiwiaW5wdXQiLCJzZXRBdHRyaWJ1dGUiLCJjb3VudEVycm9ycyIsImNsb3NlTW9kYWwiLCJDYXJvdXNlbCIsImNvbnRhaW5lciIsIml0ZW1zIiwiY29udHJvbHMiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiY2Fyb3VzZWxBcnJheSIsIl90b0NvbnN1bWFibGVBcnJheSIsImVsIiwiY2xhc3NMaXN0IiwiY2Fyb3VzZWxDb250YWluZXIiLCJjYXJvdXNlbENvbnRyb2xzIiwic2xpY2UiLCJmb3JFYWNoIiwiaSIsImFkZCIsImNvbmNhdCIsIl9jcmVhdGVDbGFzcyIsImtleSIsInZhbHVlIiwiZGlyZWN0aW9uIiwicmVtb3ZlIiwicG9wIiwic2hpZnQiLCJ1cGRhdGVHYWxsZXJ5IiwiY2xhc3NOYW1lIiwiY29udHJvbCIsImFwcGVuZENoaWxkIiwidW5zaGlmdCIsImNoaWxkTm9kZXMiLCJlIiwiX3RoaXMiLCJzZXRDdXJyZW50U3RhdGUiLCJfdGhpczIiLCJzbGlkZUludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJ0cmlnZ2VycyIsImNsZWFySW50ZXJ2YWwiLCJzdG9wQXV0b1NsaWRlIiwib25wb2ludGVybW92ZSIsImNsaWVudFgiLCJldmVudCIsInNjcm9sbFkiLCJhbmltYXRlIiwibGVmdCIsImRvY3VtZW50RWxlbWVudCIsImNsaWVudFdpZHRoIiwiYm90dG9tIiwiY2xpZW50WSIsImNsaWVudEhlaWdodCIsImZpbGwiLCJlbGVtZW50SW5WaWV3cG9ydCIsImlubmVyV2lkdGgiLCJ0b3AiLCJyZW1vdmVDb250YWN0QW5pbWF0aW9uIiwidGFyZ2V0IiwiY2xvc2VzdCIsImlucHV0SWQiLCJ0cmltIiwidG9nZ2xlIiwiaXRlbSIsImNsZWFySW5wdXRzIiwidmFsaWRhdGVOYW1lIiwiZXJyb3JDb3VudCIsInZhbGlkYXRlTWFpbCIsInZhbGlkYXRlVGV4dEFyZWEiLCJzdWJtaXQiLCJjb25zb2xlIiwibG9jYXRpb24iLCJzZWFyY2giLCJzZXRUaW1lb3V0IiwicGF0aG5hbWUiLCJoaXN0b3J5IiwicmVwbGFjZVN0YXRlIiwiYWxlcnQiLCJsb2ciLCJuZXdVcmwiLCJyZXBsYWNlIiwidGl0bGUiLCJtYWluIl0sIm1hcHBpbmdzIjoibWhFQUFBLElBQUlBLEtBQ0FDLGVBQ0FDLE9BQ0FDLFVBQ0FDLFNBQ0FDLGdCQUNBQyxlQUNBQyxnQkFDQUMsWUFDQUMsd0JBQ0FDLGVBQ0FDLEtBQ0FDLGtCQUNBQyxvQkFiQWIseUJBQ0FDLE1BQ0FDLGNBQ0FDLGtCQUNBQyxhQUNBQyxRQUNBQyxhQUNBQyxlQUNBQyxjQUNBQyxVQUNBQyxVQUVBRSxhQUNBQyxhQUNBQyxpQkFDQUMsZUFDQUMsWUFDQUMsTUFDQUMsY0FQQVAsV0FBSSxFQVNKUSxLQUFBQSxXQUNKQyxtQkFBa0IsRUFDbEJDLGlCQUFpQixFQUNqQkMsbUJBQWEsQ0FDYixFQUVJQyxtQkFBWSxXQUNoQnZCLEtBQUl3QixTQUFZQyxjQUFBLE9BQUEsRUFDaEJ4QixlQUFJeUIsU0FBZ0JELGNBQUEscUJBQUEsRUFDcEJ2QixPQUFJeUIsU0FBY0MsaUJBQUEsMkJBQUEsRUFDbEJ6QixVQUFJMEIsU0FBV0MsZUFBQSxjQUFBLEVBQ2YxQixTQUFTRCxVQUFBNEIsc0JBQUEsRUFDVDFCLGdCQUFpQkYsVUFBQTZCLGFBQUEsSUFFakIxQixlQUFhSCxVQUFNOEIsWUFjbEIxQixnQkFiQWEsU0FBb0JLLGNBQUEsa0JBQUEsRUFjcEJqQixZQWJBYSxTQUFrQk8saUJBQUEsdUJBQUEsRUFjbEJuQix3QkFib0J5QixTQUFBVCxjQUFBLDJCQUFBLEVBQ3BCZixlQUFBLENBQUEsV0FBQSxRQUVEQyxLQUFNUyxTQUFBQSxjQUFxQixNQUFyQkEsRUFhTFIsa0JBWmdCYSxTQUFBQSxpQkFBc0Isc0JBQUEsRUFhdENaLG9CQVppQnFCLFNBQVNULGNBQWMseUJBQXNCLEVBYTlEWCx5QkFaa0JjLFNBQWlCSCxjQUFBLDJCQUE0QixFQWEvRFIsa0JBWllpQixJQUFTSixTQUFBQSxnQkFBZXRCLFlBQWVFLGNBQUEsRUFhbkRRLGFBWldmLFNBQVU0QixjQUFBQSxXQUF1QixFQWE1Q0ksUUFaQTlCLFNBQWtCRixjQUFVNkIsWUFBZSxFQWEzQ2IsYUFaY2UsU0FBRy9CLGlCQUFxQixpQkFBQSxFQWF0Q2lDLGVBWmVGLFNBQUdBLGNBQVNULG1CQUFjLEVBYXpDWSxjQVpjSCxTQUFTTixpQkFBaUIsc0JBQXVCLEVBYS9EVSxVQVpBN0IsU0FBQUEsY0FBa0MsNEJBQWUsRUFhakQ4QixVQVpBN0IsU0FBa0JlLGNBQVksNEJBQU8sRUFhckNGLGFBWk9XLFNBQVNULGNBQXFCLCtCQUFBLEVBYXJDRCxhQVpBWixTQUFvQnNCLGNBQVNOLCtCQUF1QyxFQWFwRUYsaUJBWkFiLFNBQXNCcUIsY0FBU1Qsa0NBQXdDLEVBYXZFRSxlQVpBYixTQUF3QlcsY0FBWUEsb0JBQWMsRUFhbERJLFlBWkFaLFNBQW9CUSxjQUFhbEIsZ0JBQWlCQyxFQWFsRGdDLE1BWkF0QixTQUFlZ0IsY0FBU1QsaUJBQWMsRUFhdENnQixjQVpVUCxTQUFTVCxjQUFjLDBCQUFhLENBYS9DLEVBVkNZLGlCQUFnQkgsV0FhaEJ2QixLQVpBMkIsaUJBQXFCYixRQUFBQSxzQkFBYyxFQWFuQ2QsS0FaQTRCLGlCQUFxQmQsUUFBQUEsc0JBQWMsRUFhbkNpQixPQVpBbkIsaUJBQXVCLFNBQUNFLGlCQUFjLEVBYXRDUixrQkFaZWlCLFlBQVNULEVBYXhCUixrQkFaZ0IwQixZQUFZbEIsRUFhNUJSLGtCQVppQmlCLGVBQVNULEVBYTFCUCxhQVpXMEIsaUJBQVluQixRQUFjb0Isa0JBQWlCLEVBYXREM0IsYUFaUWdCLGlCQUFTVCxRQUFjLFdBQy9CZ0IsSUFBQUEsRUFBZ0JQLGFBQVNULGFBQWMsWUFBQSxFQUdsQ0osR0FBQUEsV0FBbUJ5QixHQUl4QjdCLGFBQUFBLGFBQWtCOEIsYUFBYSxRQUFBLEVBQy9COUIsYUFBQUEsYUFBa0IwQixnQkFBYSxPQUFBLElBSi9CaEMsYUFBS2lDLGFBQWlCLGFBQVNJLFFBQUFBLEVBQy9CckMsYUFBS2lDLGFBQWlCLGdCQUFTSSxNQUFBQSxFQWdCL0IsQ0FYQTlCLEVBWUFtQixjQVhhTyxRQUFBQSxTQUFBQSxHQVlaSyxFQVhNSCxpQkFBZTVCLFFBQUFBLHNCQUEwQixDQVloRCxDQUFDLEVBQ0RMLG9CQVZlcUMsaUJBQWEsUUFBY0Ysc0JBQVMsRUFXbkRyQixlQVZFVCxpQkFBMEIsUUFBQWlDLFdBQWlCLEVBVzdDVixjQVZRRyxpQkFBQSxRQUFBUSxVQUFBLENBV1QsRUFSRUMsU0FBQSxXQVdELFNBQUFBLEVBVkVDLEVBQUFDLEVBQUFDLEdBQUFDLGdCQUFBQyxLQUFBTCxDQUFBLEVBQ0ZoQixLQUFBQSxrQkFBc0JpQixFQVdyQkksS0FWQVQsaUJBQXNCTyxFQUN2QkUsS0FBRUMsY0FBQUMsbUJBQUFMLENBQUEsRUFDRjFDLEtBQUFBLGNBQW9CK0IsS0FDcEJqQixLQUFBQSxXQUFlaUIsR0FXZixDQW9EQyxPQTlEREgsYUFBQUEsRUFBQUEsQ0FBQUEsQ0FBQUEsSUFBQUEsZ0JBQUFBLE1BQ0EsV0FHQWlCLEtBQUFDLGNBQVlMLFFBQVMsU0FBQU8sR0FVbkJBLEVBVnNDSixVQUFBQSxPQUFBLHlCQUFBLEVBV3RDSSxFQVZEQyxVQUFLQyxPQUFBQSx5QkFBNkIsRUFXakNGLEVBVkRDLFVBQUtFLE9BQUFBLHlCQUEyQixDQVdoQyxDQUFDLEVBRUROLEtBVkFDLGNBQWVNLE1BQU8sRUFBQSxDQUFBLEVBQUFDLFFBQUEsU0FBQUwsRUFBQU0sR0FDdkJOLEVBQUFDLFVBQUFNLElBQUEseUJBQUFDLE9BQUFGLEVBQUEsQ0FBQSxDQUFBLENBQUNHLENBQUFBLENBWUQsQ0FBQyxFQUFBLENBQUFDLElBQUEsa0JBQUFDLE1BRUQsU0FYTWIsR0FDZ0IsaUNBV2pCYyxFQVhBWCxVQWFISixLQVhBRyxjQUFhYSxRQUFPaEIsS0FBQUMsY0FBQWdCLElBQXlCLENBQUMsRUFjOUNqQixLQVZBRyxjQUFhTyxLQUFHVixLQUFBQyxjQUFBaUIsTUFBQVAsQ0FBQUEsRUFZakJYLEtBVkRtQixjQUFBLENBV0EsQ0FYQyxFQUFBLENBQUFOLElBQUEsY0FBQUMsTUFhRCxXQUNDZCxLQVhBTSxpQkFBY2MsUUFBUyxTQUFBQyxHQVl0QnRFLHdCQVhBdUUsWUFZQzlDLFNBWEl5QixjQUFjc0IsUUFBUSxDQVkzQixFQUFFSCxVQVhJLDRCQUFBVCxPQUFBVSxDQUFBLENBWVAsQ0FBQyxDQUNGLENBQUMsRUFBQSxDQUFBUixJQUFBLGNBQUFDLE1BRUQsV0FYTUssSUFBQUEsRUFBQUEsS0FDTmpCLG1CQUFBbkQsd0JBQUF5RSxVQUFBLEVBQUNoQixRQUFBLFNBQUFhLEdBYUNBLEVBYkRuQyxpQkFBQSxRQUFBLFNBQUF1QyxHQUFBWCxFQUFBQSxlQUVEekIsRUFhR3FDLEVBWkZDLGdCQUFLckIsQ0FBaUJFLEVBYXBCa0IsRUFaRDNFLGNBQUFBLENBYUEsQ0FBQyxDQUNGLENBQUMsQ0FDRixDQVhDLEVBQUEsQ0FBQThELElBQUEsaUJBQUFDLE1BYUQsV0FYQSxJQUFBYyxFQUFBNUIsS0FZQ0EsS0FaYTZCLGNBQUFDLFlBQUEsV0FhWkYsRUFaREQsZ0JBQWN6QixFQUFBQSxpQkFBT25ELEVBQUFBLENBYXJCLEVBQUdpRCxLQVpIK0IsVUFBU3ZCLENBYVYsQ0FBQyxFQUFBLENBQUFLLElBQUEsZ0JBQUFDLE1BRUQsV0FDQ2tCLGNBWk9DLEtBQUFBLGFBQWUsQ0FhdkIsQ0FBQyxFQUFBLEVBQUF0QyxDQUFBLEVBQUEsRUFHRlgsU0FBT2tELG9CQWlCTixJQWhCUUMsRUFBcUJDLFVBQXJCRCxzQkFBTyxFQW1CZHpGLEVBaEJJMkYsS0FBTyxDQUFJMUYsaUJBaUJmRCxFQWhCTTRGLE1BQ0osQ0FBQTFGLGdCQWdCRkYsRUFmRzZGLFFBQUk1QixPQUFLd0IsWUFBVzNELFNBQUFnRSxnQkFBQUMsYUFBQTdGLGdCQWdCdkJGLEVBZk1nRyxTQUFBMUQsT0FBSzJELGFBQWlCTixTQUFPRyxnQkFBQUksY0FBQWpHLGlCQWlCbkNKLGVBZlk2RCxVQUFNTSxJQUFBLGdDQUFBLEVBZ0JsQmxFLE9BaEJvQnFHLEdBQUl6QyxVQUFFTSxJQUFBLDhDQUFBLEVBaUIxQmxFLE9BaEJFLEdBQUE0RCxVQUFBTSxJQUFBLDZDQUFBLEVBaUJGbEUsT0FoQkEsR0FBQTRELFVBQUFNLElBQUEsOENBQUEsRUFDRGxFLE9BQUEsR0FBQTRELFVBQUFNLElBQUEsNkNBQUEsSUFHRG5FLGVBQVN1RyxVQUFpQjlCLE9BQUcsZ0NBQUEsRUFDNUJ4RSxPQUFNRSxHQUFBQSxVQUFXRCxPQUFVNEIsOENBQXVCLEVBRWxEN0IsT0FDQ0UsR0FBQUEsVUFBZ0JzRSxPQUFDckUsNkNBQ2UsRUFhaENILE9BVEFELEdBQUFBLFVBQWU2RCxPQUFVTSw4Q0FBcUMsRUFVOURsRSxPQVRBQSxHQUFRNEQsVUFBRUEsT0FBYyw2Q0FBOEMsRUFXeEUsQ0FyQ0FwQixPQWJFa0QsY0FBQSxTQUFBRSxHQWNELElBZENELEVBQUFDLEVBQUFELFFBQUFRLEVBQUFQLEVBQUFPLFFBRWdCLElBY2JJLFlBYkhWLFNBQUtSLE1BQWF2RixNQWVqQkEsS0FkQXNGLFFBZUMsQ0FiSFcsS0FBQSxHQUFBNUIsT0FBQXdCLEVBQUEsSUFBQSxFQUFDYSxJQUFBLEdBQUFyQyxPQUFBZ0MsRUFBQTNELE9BQUFxRCxRQUFBLElBQUEsQ0FBQXhCLEVBQUFDLENBQUFBLFNBRUQsSUFBQW1CLEtBQUFBLFVBQWdCLENBZ0JkLENBR0gsRUF5QkEsSUFURTNDLHVCQUFNLFNBQUFtQyxHQUNObEYsRUFBQUEsT0FBQUEsUUFBZTZELHNCQUFpQixHQVVoQzZDLHVCQVRvQmpDLEdBVXBCM0QsTUFUTW9FLEVBQUV5QixPQUFFOUMsUUFBVVksS0FBTyxFQUFBakQsY0FBQSxzQkFBQSxHQUMzQnZCLFVBQVU0RCxJQUFBQSw0QkFBaUIsR0FDbkJxQixFQUFFckIsT0FBQUEsUUFBVVkseUJBQU8sR0FDNUJpQyx1QkFBQSxHQUNEM0YsY0FBQW1FLEVBQUF5QixPQUFBQyxRQUFBLEtBQUEsRUFBQXBGLGNBQUEsc0JBQUEsR0FFTXVCLFVBQXNCb0IsSUFBRywrQkFBQWUsR0FVN0J3Qix1QkFSQUEsQ0FVRixFQU5FQSx1QkFBd0IsV0FTekIvRixrQkFSY3NELFFBQUswQyxTQUFBQSxHQVNsQixJQVJBNUYsRUFBYzhDLEVBQUFBLGFBQWMsS0FBQSxFQUc3QixLQUZPNUIsU0FBQUosZUFBQWdGLENBQUEsRUFFUHRDLE1BQUF1QyxLQUFBLEdBQ0FoRyxFQUFBK0MsVUFBQVksT0FBQSw0QkFBQSxDQVVBLENBUEE5RCxFQUUrQmtCLEtBQTlCakIsb0JBQXFCcUIsTUFBUTZFLEtBQUNqRixHQVE5QmhCLHlCQU51QmlHLFVBQU1yQyxPQUFTLCtCQUFBLENBUXhDLEVBSEs3RCxtQkFBb0IyRCxXQU14QnJDLFFBTENyQixVQUFBQSxPQUFBQSxtQkFBeUMsRUFNMUNILEtBTEFtRCxVQUFBa0QsT0FBQSxnQkFBQSxFQUNBN0YsYUFBQStDLFFBQUEsU0FBQStDLEdBRURBLEVBQU1wRSxpQkFBa0IsUUFBRyxXQUMxQlYsUUFBUTJCLFVBQVVrRCxPQUFPLG1CQUFvQixFQUM3Q3JHLGFBQWN1QyxhQUFRLGFBQWlCLFFBQUEsRUFDdkMvQixhQUFhK0MsYUFBUSxnQkFBUSxPQUFBLEVBSzNCdkQsS0FKR21ELFVBQUNsQixPQUFnQixnQkFBVSxDQUsvQixDQUFDLENBQ0YsQ0FBQyxDQUNGLEVBRklzRSxZQUFBLFdBS0g1RSxVQUpFa0MsTUFBQSxHQUNGakMsVUFBQWlDLE1BQUEsR0FFRDNELG9CQUFvQjJELE1BQWQwQyxFQUlOLEVBRENyRyxhQUFtQixXQUNuQixLQUFBeUIsVUFBQWtDLE9BRURqRCxhQUFNNEYsVUFBZS9DLElBQWYrQyxnQ0FBcUIsRUFDMUJDLFVBQUk5RSxJQUlIZixhQUZVdUMsVUFBRVksT0FBQSxnQ0FBQSxDQUlkLEVBQUMyQyxhQUFBLFdBR0Esd0hBSUM3RixLQUFBQSxVQUFhc0MsS0FBVVksRUFDeEJsRCxhQUFPc0MsVUFBQVksT0FBQSxnQ0FBQSxHQUNObEQsYUFDVXNDLFVBQUVNLElBQUEsZ0NBQUEsRUFDYmdELFVBQUEsR0FHRCxFQUVFMUYsaUJBQWlCb0MsV0FDTCxLQUFac0Qsb0JBQVk1QyxPQUNiOUMsaUJBQU9vQyxVQUFBTSxJQUFBLGdDQUFBLEVBRE5nRCxVQUVBMUYsSUFFREEsaUJBQUFvQyxVQUFBWSxPQUFBLGdDQUFBLENBQUQsRUFNQzJDLFlBQWMsU0FBQWxDLEdBSGRBLEVBSUFtQyxlQUFnQixFQUZoQkgsYUFLVyxFQUpYRSxhQUtXRCxFQUpYRSxpQkFLYUMsRUFFRSxJQUFkSCxXQUNEQSxXQUFBLEVBQ0EsSUFBQUEsYUFFRHZGLFlBQU1QLE9BQUFBLEVBQ0w0RixZQUFZLEVBTFhFLFdBTU10RCxFQUpSLEVBUUUwRCxtQkFBbUIsV0FDcEIsc0JBQUF0RixTQUFBdUYsU0FBQUMsUUFFQUMsTUFBQUEsVUFBV3ZELElBQUEsd0JBQU0sRUFOaEJ6RCxLQU9BbUQsVUFBZXBCLElBQUFBLGdCQUFnQmtGLEdBQ0MxRix1QkFBekIyRixTQUFRQyxTQUFBQSxTQUNoQkMsTUFBRywyQkFBSyxFQUNSUCxRQUFBUSxJQUFBLE1BQUEsR0FKQUwsV0FRSzdELFdBQ0wsSUFBQW1FLEVBQUF2RixPQUFBK0UsU0FBQUcsU0FBQWxGLE9BQUErRSxTQUFBQyxPQUFBUSxRQUFBLG9CQUFBLEVBQUEsRUFFRGhHLE9BQVNVLFFBQUFBLGFBQWlCLEdBQUFWLFNBQUFpRyxNQUF3QkYsQ0FBQyxDQVJsRCxFQUFHLEdBQUksQ0FDUixFQUVNN0UsV0FBYSxXQUNsQlosTUFBTXNCLFVBQVVZLE9BQU8sd0JBQXdCLEVBQy9DL0QsS0FBS21ELFVBQVVZLE9BQU8sZ0JBQWdCLENBQ3ZDLEVBRUF4QyxTQUFTVSxpQkFBaUIsbUJBQW9Cd0YsSUFBSSIsImZpbGUiOiJzY3JpcHQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IGJsb2JcclxubGV0IHBob3RvQ29udGFpbmVyXHJcbmxldCBwaG90b3NcclxubGV0IG15RWxlbWVudFxyXG5sZXQgYm91bmRpbmdcclxubGV0IG15RWxlbWVudEhlaWdodFxyXG5sZXQgbXlFbGVtZW50V2lkdGhcclxubGV0IHNsaWRlckNvbnRhaW5lclxyXG5sZXQgc2xpZGVySXRlbXNcclxubGV0IHNsaWRlckNvbnRyb2xzQ29udGFpbmVyXHJcbmxldCBzbGlkZXJDb250cm9sc1xyXG5sZXQgYm9keVxyXG5sZXQgY29udGFjdEZvcm1MYWJlbHNcclxubGV0IGNvbnRhY3RGb3JtVGV4dEFyZWFcclxubGV0IGNvbnRhY3RGb3JtVGV4dEFyZWFMYWJlbFxyXG5sZXQgbGFiZWxcclxubGV0IHRleHRBcmVhTGFiZWxcclxubGV0IHBvcnRmb2xpb0Nhcm91c2VsXHJcbmxldCBoYW1idXJnZXJCdG5cclxubGV0IG5hdk1lbnVcclxubGV0IG5hdk1lbnVJdGVtc1xyXG5sZXQgYWJvdXRtZVRleHRCb3hcclxubGV0IGNvbnRhY3RJbnB1dHNcclxubGV0IG5hbWVJbnB1dFxyXG5sZXQgbWFpbElucHV0XHJcbmxldCBlcnJvckNvdW50ID0gMFxyXG5sZXQgZXJyb3JNc2dOYW1lXHJcbmxldCBlcnJvck1zZ01haWxcclxubGV0IGVycm9yTXNnVGV4dEFyZWFcclxubGV0IGNvbnRhY3RGcm9tQnRuXHJcbmxldCBjb250YWN0Rm9ybVxyXG5sZXQgbW9kYWxcclxubGV0IGNsb3NlTW9kYWxCdG5cclxuXHJcbmNvbnN0IG1haW4gPSAoKSA9PiB7XHJcblx0cHJlcGFyZURPTUVsZW1lbnRzKClcclxuXHRwcmVwYXJlRE9NRXZlbnRzKClcclxuXHRjaGVja1VybFBhcmFtZXRlcnMoKVxyXG59XHJcblxyXG5jb25zdCBwcmVwYXJlRE9NRWxlbWVudHMgPSAoKSA9PiB7XHJcblx0YmxvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ibG9iJylcclxuXHRwaG90b0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hYm91dG1lX19jb250YWluZXInKVxyXG5cdHBob3RvcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hYm91dG1lX19jb250YWluZXItcGhvdG8nKVxyXG5cdG15RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhYm91dG1lUGhvdG8nKVxyXG5cdGJvdW5kaW5nID0gbXlFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXHJcblx0bXlFbGVtZW50SGVpZ2h0ID0gbXlFbGVtZW50Lm9mZnNldEhlaWdodCAtIDQwMFxyXG5cdG15RWxlbWVudFdpZHRoID0gbXlFbGVtZW50Lm9mZnNldFdpZHRoXHJcblx0c2xpZGVyQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcnRmb2xpb19fbGlzdCcpXHJcblx0c2xpZGVySXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9ydGZvbGlvX19saXN0LWl0ZW0nKVxyXG5cdHNsaWRlckNvbnRyb2xzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcnRmb2xpb19fbGlzdC1jb250cm9scycpXHJcblx0c2xpZGVyQ29udHJvbHMgPSBbJ3ByZXZpb3VzJywgJ25leHQnXVxyXG5cdGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JylcclxuXHRjb250YWN0Rm9ybUxhYmVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb250YWN0X19mb3JtLWxhYmVsJylcclxuXHRjb250YWN0Rm9ybVRleHRBcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhY3RfX2Zvcm0tdGV4dEFyZWEnKVxyXG5cdGNvbnRhY3RGb3JtVGV4dEFyZWFMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0X19mb3JtLWxhYmVsLS1tc2cnKVxyXG5cdHBvcnRmb2xpb0Nhcm91c2VsID0gbmV3IENhcm91c2VsKHNsaWRlckNvbnRhaW5lciwgc2xpZGVySXRlbXMsIHNsaWRlckNvbnRyb2xzKVxyXG5cdGhhbWJ1cmdlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZfX2J0bicpXHJcblx0bmF2TWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZfX21lbnUnKVxyXG5cdG5hdk1lbnVJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZfX21lbnUtaXRlbScpXHJcblx0YWJvdXRtZVRleHRCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWJvdXRtZV9fdGV4dEJveCcpXHJcblx0Y29udGFjdElucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb250YWN0X19mb3JtLWlucHV0JylcclxuXHRuYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFjdF9fZm9ybS1pbnB1dC0tbmFtZScpXHJcblx0bWFpbElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhY3RfX2Zvcm0taW5wdXQtLW1haWwnKVxyXG5cdGVycm9yTXNnTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0X19mb3JtLWVycm9yTXNnLS1uYW1lJylcclxuXHRlcnJvck1zZ01haWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFjdF9fZm9ybS1lcnJvck1zZy0tbWFpbCcpXHJcblx0ZXJyb3JNc2dUZXh0QXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0X19mb3JtLWVycm9yTXNnLS1tZXNzYWdlJylcclxuXHRjb250YWN0RnJvbUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0X19mb3JtLWJ0bicpXHJcblx0Y29udGFjdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFjdF9fZm9ybScpXHJcblx0bW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFjdF9fbW9kYWwnKVxyXG5cdGNsb3NlTW9kYWxCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFjdF9fbW9kYWwtY2xvc2VCdG4nKVxyXG59XHJcblxyXG5jb25zdCBwcmVwYXJlRE9NRXZlbnRzID0gKCkgPT4ge1xyXG5cdGJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVDb250YWN0QW5pbWF0aW9uKVxyXG5cdGJvZHkuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBoYW5kbGVDb250YWN0QW5pbWF0aW9uKVxyXG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBlbGVtZW50SW5WaWV3cG9ydClcclxuXHRwb3J0Zm9saW9DYXJvdXNlbC5zZXRDb250cm9scygpXHJcblx0cG9ydGZvbGlvQ2Fyb3VzZWwudXNlQ29udHJvbHMoKVxyXG5cdHBvcnRmb2xpb0Nhcm91c2VsLnN0YXJ0QXV0b1NsaWRlKClcclxuXHRoYW1idXJnZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVOYXZBbmltYXRpb24pXHJcblx0aGFtYnVyZ2VyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0Y29uc3QgY3VycmVudFN0YXRlID0gaGFtYnVyZ2VyQnRuLmdldEF0dHJpYnV0ZSgnZGF0YS1zdGF0ZScpXHJcblxyXG5cdFx0aWYgKCFjdXJyZW50U3RhdGUgfHwgY3VycmVudFN0YXRlID09PSAnY2xvc2VkJykge1xyXG5cdFx0XHRoYW1idXJnZXJCdG4uc2V0QXR0cmlidXRlKCdkYXRhLXN0YXRlJywgJ29wZW5lZCcpXHJcblx0XHRcdGhhbWJ1cmdlckJ0bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRoYW1idXJnZXJCdG4uc2V0QXR0cmlidXRlKCdkYXRhLXN0YXRlJywgJ2Nsb3NlZCcpXHJcblx0XHRcdGhhbWJ1cmdlckJ0bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKVxyXG5cdFx0fVxyXG5cdH0pXHJcblx0Y29udGFjdElucHV0cy5mb3JFYWNoKGlucHV0ID0+IHtcclxuXHRcdGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgaGFuZGxlQ29udGFjdEFuaW1hdGlvbilcclxuXHR9KVxyXG5cdGNvbnRhY3RGb3JtVGV4dEFyZWEuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBoYW5kbGVDb250YWN0QW5pbWF0aW9uKVxyXG5cdGNvbnRhY3RGcm9tQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY291bnRFcnJvcnMpXHJcblx0Y2xvc2VNb2RhbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlTW9kYWwpXHJcbn1cclxuXHJcbmNsYXNzIENhcm91c2VsIHtcclxuXHRjb25zdHJ1Y3Rvcihjb250YWluZXIsIGl0ZW1zLCBjb250cm9scykge1xyXG5cdFx0dGhpcy5jYXJvdXNlbENvbnRhaW5lciA9IGNvbnRhaW5lclxyXG5cdFx0dGhpcy5jYXJvdXNlbENvbnRyb2xzID0gY29udHJvbHNcclxuXHRcdHRoaXMuY2Fyb3VzZWxBcnJheSA9IFsuLi5pdGVtc11cclxuXHRcdHRoaXMuc2xpZGVJbnRlcnZhbCA9IG51bGxcclxuXHRcdHRoaXMuc2xpZGVEZWxheSA9IDMwMDBcclxuXHR9XHJcblxyXG5cdHVwZGF0ZUdhbGxlcnkoKSB7XHJcblx0XHR0aGlzLmNhcm91c2VsQXJyYXkuZm9yRWFjaChlbCA9PiB7XHJcblx0XHRcdGVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcnRmb2xpb19fbGlzdC1pdGVtLS0xJylcclxuXHRcdFx0ZWwuY2xhc3NMaXN0LnJlbW92ZSgncG9ydGZvbGlvX19saXN0LWl0ZW0tLTInKVxyXG5cdFx0XHRlbC5jbGFzc0xpc3QucmVtb3ZlKCdwb3J0Zm9saW9fX2xpc3QtaXRlbS0tMycpXHJcblx0XHR9KVxyXG5cclxuXHRcdHRoaXMuY2Fyb3VzZWxBcnJheS5zbGljZSgwLCAzKS5mb3JFYWNoKChlbCwgaSkgPT4ge1xyXG5cdFx0XHRlbC5jbGFzc0xpc3QuYWRkKGBwb3J0Zm9saW9fX2xpc3QtaXRlbS0tJHtpICsgMX1gKVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdHNldEN1cnJlbnRTdGF0ZShkaXJlY3Rpb24pIHtcclxuXHRcdGlmIChkaXJlY3Rpb24uY2xhc3NOYW1lID09ICdwb3J0Zm9saW9fX2xpc3QtY29udHJvbHMtbmV4dCcpIHtcclxuXHRcdFx0Ly8gdGhpcy5jYXJvdXNlbEFycmF5LnB1c2godGhpcy5jYXJvdXNlbEFycmF5LnNoaWZ0KCkpXHJcblx0XHRcdHRoaXMuY2Fyb3VzZWxBcnJheS51bnNoaWZ0KHRoaXMuY2Fyb3VzZWxBcnJheS5wb3AoKSlcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIHRoaXMuY2Fyb3VzZWxBcnJheS51bnNoaWZ0KHRoaXMuY2Fyb3VzZWxBcnJheS5wb3AoKSlcclxuXHRcdFx0dGhpcy5jYXJvdXNlbEFycmF5LnB1c2godGhpcy5jYXJvdXNlbEFycmF5LnNoaWZ0KCkpXHJcblx0XHR9XHJcblx0XHR0aGlzLnVwZGF0ZUdhbGxlcnkoKVxyXG5cdH1cclxuXHJcblx0c2V0Q29udHJvbHMoKSB7XHJcblx0XHR0aGlzLmNhcm91c2VsQ29udHJvbHMuZm9yRWFjaChjb250cm9sID0+IHtcclxuXHRcdFx0c2xpZGVyQ29udHJvbHNDb250YWluZXIuYXBwZW5kQ2hpbGQoXHJcblx0XHRcdFx0ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcclxuXHRcdFx0KS5jbGFzc05hbWUgPSBgcG9ydGZvbGlvX19saXN0LWNvbnRyb2xzLSR7Y29udHJvbH1gXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0dXNlQ29udHJvbHMoKSB7XHJcblx0XHRjb25zdCB0cmlnZ2VycyA9IFsuLi5zbGlkZXJDb250cm9sc0NvbnRhaW5lci5jaGlsZE5vZGVzXVxyXG5cdFx0dHJpZ2dlcnMuZm9yRWFjaChjb250cm9sID0+IHtcclxuXHRcdFx0Y29udHJvbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKVxyXG5cdFx0XHRcdHRoaXMuc2V0Q3VycmVudFN0YXRlKGNvbnRyb2wpXHJcblx0XHRcdFx0dGhpcy5zdG9wQXV0b1NsaWRlKClcclxuXHRcdFx0fSlcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHRzdGFydEF1dG9TbGlkZSgpIHtcclxuXHRcdHRoaXMuc2xpZGVJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcclxuXHRcdFx0dGhpcy5zZXRDdXJyZW50U3RhdGUodGhpcy5jYXJvdXNlbENvbnRyb2xzWzBdKVxyXG5cdFx0fSwgdGhpcy5zbGlkZURlbGF5KVxyXG5cdH1cclxuXHJcblx0c3RvcEF1dG9TbGlkZSgpIHtcclxuXHRcdGNsZWFySW50ZXJ2YWwodGhpcy5zbGlkZUludGVydmFsKVxyXG5cdH1cclxufVxyXG5cclxud2luZG93Lm9ucG9pbnRlcm1vdmUgPSBldmVudCA9PiB7XHJcblx0Y29uc3QgeyBjbGllbnRYLCBjbGllbnRZIH0gPSBldmVudFxyXG5cclxuXHRpZiAoaW5uZXJXaWR0aCA+IDg2MCkge1xyXG5cdFx0aWYgKHNjcm9sbFkgPD0gMzEwMCAmJiBibG9iKSB7XHJcblx0XHRcdGJsb2IuYW5pbWF0ZShcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRsZWZ0OiBgJHtjbGllbnRYfXB4YCxcclxuXHRcdFx0XHRcdHRvcDogYCR7Y2xpZW50WSArIHdpbmRvdy5zY3JvbGxZfXB4YCxcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdHsgZHVyYXRpb246IDMwMDAsIGZpbGw6ICdmb3J3YXJkcycgfVxyXG5cdFx0XHQpXHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBlbGVtZW50SW5WaWV3cG9ydCgpIHtcclxuXHRjb25zdCBib3VuZGluZyA9IG15RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxyXG5cclxuXHRpZiAoXHJcblx0XHRib3VuZGluZy50b3AgPj0gLW15RWxlbWVudEhlaWdodCAmJlxyXG5cdFx0Ym91bmRpbmcubGVmdCA+PSAtbXlFbGVtZW50V2lkdGggJiZcclxuXHRcdGJvdW5kaW5nLnJpZ2h0IDw9ICh3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpICsgbXlFbGVtZW50V2lkdGggJiZcclxuXHRcdGJvdW5kaW5nLmJvdHRvbSA8PSAod2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpICsgbXlFbGVtZW50SGVpZ2h0XHJcblx0KSB7XHJcblx0XHRwaG90b0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdhYm91dG1lX19jb250YWluZXItdHJhbnNmb3JtZWQnKVxyXG5cdFx0cGhvdG9zWzBdLmNsYXNzTGlzdC5hZGQoJ2Fib3V0bWVfX2NvbnRhaW5lci1waG90by10cmFuc2Zvcm1lZC0tZm91cnRoJylcclxuXHRcdHBob3Rvc1sxXS5jbGFzc0xpc3QuYWRkKCdhYm91dG1lX19jb250YWluZXItcGhvdG8tdHJhbnNmb3JtZWQtLXRoaXJkJylcclxuXHRcdHBob3Rvc1syXS5jbGFzc0xpc3QuYWRkKCdhYm91dG1lX19jb250YWluZXItcGhvdG8tdHJhbnNmb3JtZWQtLXNlY29uZCcpXHJcblx0XHRwaG90b3NbM10uY2xhc3NMaXN0LmFkZCgnYWJvdXRtZV9fY29udGFpbmVyLXBob3RvLXRyYW5zZm9ybWVkLS1maXJzdCcpXHJcblx0fSBlbHNlIHtcclxuXHRcdHBob3RvQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2Fib3V0bWVfX2NvbnRhaW5lci10cmFuc2Zvcm1lZCcpXHJcblx0XHRwaG90b3NbMF0uY2xhc3NMaXN0LnJlbW92ZSgnYWJvdXRtZV9fY29udGFpbmVyLXBob3RvLXRyYW5zZm9ybWVkLS1mb3VydGgnKVxyXG5cdFx0cGhvdG9zWzFdLmNsYXNzTGlzdC5yZW1vdmUoJ2Fib3V0bWVfX2NvbnRhaW5lci1waG90by10cmFuc2Zvcm1lZC0tdGhpcmQnKVxyXG5cdFx0cGhvdG9zWzJdLmNsYXNzTGlzdC5yZW1vdmUoJ2Fib3V0bWVfX2NvbnRhaW5lci1waG90by10cmFuc2Zvcm1lZC0tc2Vjb25kJylcclxuXHRcdHBob3Rvc1szXS5jbGFzc0xpc3QucmVtb3ZlKCdhYm91dG1lX19jb250YWluZXItcGhvdG8tdHJhbnNmb3JtZWQtLWZpcnN0JylcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGhhbmRsZUNvbnRhY3RBbmltYXRpb24gPSBlID0+IHtcclxuXHRpZiAoZS50YXJnZXQubWF0Y2hlcygnLmNvbnRhY3RfX2Zvcm0taW5wdXQnKSkge1xyXG5cdFx0cmVtb3ZlQ29udGFjdEFuaW1hdGlvbigpXHJcblx0XHRsYWJlbCA9IGUudGFyZ2V0LmNsb3Nlc3QoJ2RpdicpLnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0X19mb3JtLWxhYmVsJylcclxuXHRcdGxhYmVsLmNsYXNzTGlzdC5hZGQoJ2NvbnRhY3RfX2Zvcm0tbGFiZWwtLW1vdmVkJylcclxuXHR9IGVsc2UgaWYgKGUudGFyZ2V0Lm1hdGNoZXMoJy5jb250YWN0X19mb3JtLXRleHRBcmVhJykpIHtcclxuXHRcdHJlbW92ZUNvbnRhY3RBbmltYXRpb24oKVxyXG5cdFx0dGV4dEFyZWFMYWJlbCA9IGUudGFyZ2V0LmNsb3Nlc3QoJ2RpdicpLnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0X19mb3JtLWxhYmVsJylcclxuXHRcdHRleHRBcmVhTGFiZWwuY2xhc3NMaXN0LmFkZCgnY29udGFjdF9fZm9ybS1sYWJlbC0tbXNnTW92ZWQnKVxyXG5cdH0gZWxzZSB7XHJcblx0XHRyZW1vdmVDb250YWN0QW5pbWF0aW9uKClcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IHJlbW92ZUNvbnRhY3RBbmltYXRpb24gPSAoKSA9PiB7XHJcblx0Y29udGFjdEZvcm1MYWJlbHMuZm9yRWFjaChsYWJlbCA9PiB7XHJcblx0XHRjb25zdCBpbnB1dElkID0gbGFiZWwuZ2V0QXR0cmlidXRlKCdmb3InKVxyXG5cdFx0Y29uc3QgaW5wdXRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaW5wdXRJZClcclxuXHJcblx0XHRpZiAoaW5wdXRFbGVtZW50LnZhbHVlLnRyaW0oKSA9PT0gJycpIHtcclxuXHRcdFx0bGFiZWwuY2xhc3NMaXN0LnJlbW92ZSgnY29udGFjdF9fZm9ybS1sYWJlbC0tbW92ZWQnKVxyXG5cdFx0fVxyXG5cdH0pXHJcblxyXG5cdGlmIChjb250YWN0Rm9ybVRleHRBcmVhLnZhbHVlLnRyaW0oKSA9PT0gJycpIHtcclxuXHRcdGNvbnRhY3RGb3JtVGV4dEFyZWFMYWJlbC5jbGFzc0xpc3QucmVtb3ZlKCdjb250YWN0X19mb3JtLWxhYmVsLS1tc2dNb3ZlZCcpXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBoYW5kbGVOYXZBbmltYXRpb24gPSAoKSA9PiB7XHJcblx0bmF2TWVudS5jbGFzc0xpc3QudG9nZ2xlKCduYXZfX21lbnUtLWFjdGl2ZScpXHJcblx0Ym9keS5jbGFzc0xpc3QudG9nZ2xlKCdvdmVyZmxvd0hpZGRlbicpXHJcblx0bmF2TWVudUl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XHJcblx0XHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHRuYXZNZW51LmNsYXNzTGlzdC5yZW1vdmUoJ25hdl9fbWVudS0tYWN0aXZlJylcclxuXHRcdFx0aGFtYnVyZ2VyQnRuLnNldEF0dHJpYnV0ZSgnZGF0YS1zdGF0ZScsICdjbG9zZWQnKVxyXG5cdFx0XHRoYW1idXJnZXJCdG4uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJylcclxuXHRcdFx0Ym9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvd0hpZGRlbicpXHJcblx0XHR9KVxyXG5cdH0pXHJcbn1cclxuXHJcbmNvbnN0IGNsZWFySW5wdXRzID0gKCkgPT4ge1xyXG5cdG5hbWVJbnB1dC52YWx1ZSA9ICcnXHJcblx0bWFpbElucHV0LnZhbHVlID0gJydcclxuXHRjb250YWN0Rm9ybVRleHRBcmVhLnZhbHVlID0gJydcclxufVxyXG5cclxuY29uc3QgdmFsaWRhdGVOYW1lID0gKCkgPT4ge1xyXG5cdGlmIChuYW1lSW5wdXQudmFsdWUgPT09ICcnKSB7XHJcblx0XHRlcnJvck1zZ05hbWUuY2xhc3NMaXN0LmFkZCgnY29udGFjdF9fZm9ybS1lcnJvck1zZy0tYWN0aXZlJylcclxuXHRcdGVycm9yQ291bnQrK1xyXG5cdH0gZWxzZSB7XHJcblx0XHRlcnJvck1zZ05hbWUuY2xhc3NMaXN0LnJlbW92ZSgnY29udGFjdF9fZm9ybS1lcnJvck1zZy0tYWN0aXZlJylcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IHZhbGlkYXRlTWFpbCA9ICgpID0+IHtcclxuXHRjb25zdCByZWcgPVxyXG5cdFx0L14oKFtePD4oKVtcXF1cXC4sOzpcXHNAXFxcIl0rKFxcLltePD4oKVtcXF1cXC4sOzpcXHNAXFxcIl0rKSopfChcXFwiLitcXFwiKSlAKChbXjw+KClbXFxdXFwuLDs6XFxzQFxcXCJdK1xcLikrW148PigpW1xcXVxcLiw7Olxcc0BcXFwiXXsyLDR9KSQvaVxyXG5cclxuXHRpZiAocmVnLnRlc3QobWFpbElucHV0LnZhbHVlKSkge1xyXG5cdFx0ZXJyb3JNc2dNYWlsLmNsYXNzTGlzdC5yZW1vdmUoJ2NvbnRhY3RfX2Zvcm0tZXJyb3JNc2ctLWFjdGl2ZScpXHJcblx0fSBlbHNlIHtcclxuXHRcdGVycm9yTXNnTWFpbC5jbGFzc0xpc3QuYWRkKCdjb250YWN0X19mb3JtLWVycm9yTXNnLS1hY3RpdmUnKVxyXG5cdFx0ZXJyb3JDb3VudCsrXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCB2YWxpZGF0ZVRleHRBcmVhID0gKCkgPT4ge1xyXG5cdGlmIChjb250YWN0Rm9ybVRleHRBcmVhLnZhbHVlID09PSAnJykge1xyXG5cdFx0ZXJyb3JNc2dUZXh0QXJlYS5jbGFzc0xpc3QuYWRkKCdjb250YWN0X19mb3JtLWVycm9yTXNnLS1hY3RpdmUnKVxyXG5cdFx0ZXJyb3JDb3VudCsrXHJcblx0fSBlbHNlIHtcclxuXHRcdGVycm9yTXNnVGV4dEFyZWEuY2xhc3NMaXN0LnJlbW92ZSgnY29udGFjdF9fZm9ybS1lcnJvck1zZy0tYWN0aXZlJylcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGNvdW50RXJyb3JzID0gZSA9PiB7XHJcblx0ZS5wcmV2ZW50RGVmYXVsdCgpXHJcblxyXG5cdHZhbGlkYXRlTmFtZSgpXHJcblx0dmFsaWRhdGVNYWlsKClcclxuXHR2YWxpZGF0ZVRleHRBcmVhKClcclxuXHJcblx0aWYgKGVycm9yQ291bnQgIT09IDApIHtcclxuXHRcdGVycm9yQ291bnQgPSAwXHJcblx0fSBlbHNlIGlmIChlcnJvckNvdW50ID09PSAwKSB7XHJcblx0XHRjb250YWN0Rm9ybS5zdWJtaXQoKVxyXG5cdFx0Y2xlYXJJbnB1dHMoKVxyXG5cdFx0ZXJyb3JDb3VudCA9IDBcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGNoZWNrVXJsUGFyYW1ldGVycyA9ICgpID0+IHtcclxuXHRpZiAoZG9jdW1lbnQubG9jYXRpb24uc2VhcmNoID09PSAnP21haWxfc3RhdHVzPXNlbnQnKSB7XHJcblx0XHRtb2RhbC5jbGFzc0xpc3QuYWRkKCdjb250YWN0X19tb2RhbC0tYWN0aXZlJylcclxuXHRcdGJvZHkuY2xhc3NMaXN0LmFkZCgnb3ZlcmZsb3dIaWRkZW4nKVxyXG5cdH0gZWxzZSBpZiAoZG9jdW1lbnQubG9jYXRpb24uc2VhcmNoID09PSAnP21haWxfc3RhdHVzPWVycm9yJykge1xyXG5cdFx0YWxlcnQoJ0LFgsSFZCB3eXN5xYJhbmlhIHdpYWRvbW/Fm2NpJylcclxuXHRcdGNvbnNvbGUubG9nKCdCxYLEhWQnKVxyXG5cdH1cclxuXHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRjb25zdCBuZXdVcmwgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyB3aW5kb3cubG9jYXRpb24uc2VhcmNoLnJlcGxhY2UoJz9tYWlsX3N0YXR1cz1zZW50JywgJycpXHJcblx0XHR3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoe30sIGRvY3VtZW50LnRpdGxlLCBuZXdVcmwpXHJcblx0fSwgMzAwMClcclxufVxyXG5cclxuY29uc3QgY2xvc2VNb2RhbCA9ICgpID0+IHtcclxuXHRtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdjb250YWN0X19tb2RhbC0tYWN0aXZlJylcclxuXHRib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ292ZXJmbG93SGlkZGVuJylcclxufVxyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIG1haW4pXHJcbiJdfQ==
