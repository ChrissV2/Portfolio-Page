"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){var o;if(t)return"string"==typeof t?_arrayLikeToArray(t,e):"Map"===(o="Object"===(o=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:o)||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(t,e):void 0}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,r=new Array(e);o<e;o++)r[o]=t[o];return r}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_toPropertyKey(r.key),r)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){t=_toPrimitive(t,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(t,e){if("object"!==_typeof(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0===o)return("string"===e?String:Number)(t);o=o.call(t,e||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}var blob,photoContainer,photos,myElement,bounding,myElementHeight,myElementWidth,sliderContainer,sliderItems,sliderControlsContainer,sliderControls,body,contactFormLabels,contactFormTextArea,contactFormTextAreaLabel,label,textAreaLabel,portfolioCarousel,hamburgerBtn,navMenu,navMenuItems,main=function(){prepareDOMElements(),prepareDOMEvents()},prepareDOMElements=function(){blob=document.querySelector(".blob"),photoContainer=document.querySelector(".aboutme__container"),photos=document.querySelectorAll(".aboutme__container-photo"),myElement=document.getElementById("aboutmePhoto"),bounding=myElement.getBoundingClientRect(),myElementHeight=myElement.offsetHeight-400,myElementWidth=myElement.offsetWidth,sliderContainer=document.querySelector(".portfolio__list"),sliderItems=document.querySelectorAll(".portfolio__list-item"),sliderControlsContainer=document.querySelector(".portfolio__list-controls"),sliderControls=["previous","next"],body=document.querySelector("body"),contactFormLabels=document.querySelectorAll(".contact__form-label"),contactFormTextArea=document.querySelector(".contact__form-textArea"),contactFormTextAreaLabel=document.querySelector(".contact__form-label--msg"),portfolioCarousel=new Carousel(sliderContainer,sliderItems,sliderControls),hamburgerBtn=document.querySelector(".nav__btn"),navMenu=document.querySelector(".nav__menu"),navMenuItems=document.querySelectorAll(".nav__menu-item")},prepareDOMEvents=function(){body.addEventListener("click",handleContactAnimation),window.addEventListener("scroll",elementInViewport),portfolioCarousel.setControls(),portfolioCarousel.useControls(),hamburgerBtn.addEventListener("click",handleNavAnimation),hamburgerBtn.addEventListener("click",function(){var t=hamburgerBtn.getAttribute("data-state");t&&"closed"!==t?(hamburgerBtn.setAttribute("data-state","closed"),hamburgerBtn.setAttribute("aria-expanded","false")):(hamburgerBtn.setAttribute("data-state","opened"),hamburgerBtn.setAttribute("aria-expanded","true"))})},Carousel=function(){function r(t,e,o){_classCallCheck(this,r),this.carouselContainer=t,this.carouselControls=o,this.carouselArray=_toConsumableArray(e)}return _createClass(r,[{key:"updateGallery",value:function(){this.carouselArray.forEach(function(t){t.classList.remove("portfolio__list-item--1"),t.classList.remove("portfolio__list-item--2"),t.classList.remove("portfolio__list-item--3")}),this.carouselArray.slice(0,3).forEach(function(t,e){t.classList.add("portfolio__list-item--".concat(e+1))})}},{key:"setCurrentState",value:function(t){"portfolio__list-controls-next"==t.className?this.carouselArray.push(this.carouselArray.shift()):this.carouselArray.unshift(this.carouselArray.pop()),this.updateGallery()}},{key:"setControls",value:function(){this.carouselControls.forEach(function(t){sliderControlsContainer.appendChild(document.createElement("button")).className="portfolio__list-controls-".concat(t)})}},{key:"useControls",value:function(){var o=this;_toConsumableArray(sliderControlsContainer.childNodes).forEach(function(e){e.addEventListener("click",function(t){t.preventDefault(),o.setCurrentState(e)})})}}]),r}();function elementInViewport(){var t=myElement.getBoundingClientRect();t.top>=-myElementHeight&&t.left>=-myElementWidth&&t.right<=(window.innerWidth||document.documentElement.clientWidth)+myElementWidth&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)+myElementHeight?(photoContainer.classList.add("aboutme__container-transformed"),photos[0].classList.add("aboutme__container-photo-transformed--fourth"),photos[1].classList.add("aboutme__container-photo-transformed--third"),photos[2].classList.add("aboutme__container-photo-transformed--second"),photos[3].classList.add("aboutme__container-photo-transformed--first")):(photoContainer.classList.remove("aboutme__container-transformed"),photos[0].classList.remove("aboutme__container-photo-transformed--fourth"),photos[1].classList.remove("aboutme__container-photo-transformed--third"),photos[2].classList.remove("aboutme__container-photo-transformed--second"),photos[3].classList.remove("aboutme__container-photo-transformed--first"))}window.onpointermove=function(t){var e=t.clientX,t=t.clientY;scrollY<=3300&&blob&&blob.animate({left:"".concat(e,"px"),top:"".concat(t+window.scrollY,"px")},{duration:3e3,fill:"forwards"})};var handleContactAnimation=function(t){t.target.matches(".contact__form-input")?(removeContactAnimation(),(label=t.target.closest("div").querySelector(".contact__form-label")).classList.add("contact__form-label--moved")):t.target.matches(".contact__form-textArea")?(removeContactAnimation(),(textAreaLabel=t.target.closest("div").querySelector(".contact__form-label")).classList.add("contact__form-label--msgMoved")):removeContactAnimation()},removeContactAnimation=function(){contactFormLabels.forEach(function(t){var e=t.getAttribute("for");""===document.getElementById(e).value.trim()&&t.classList.remove("contact__form-label--moved")}),""===contactFormTextArea.value.trim()&&contactFormTextAreaLabel.classList.remove("contact__form-label--msgMoved")},handleNavAnimation=function(){navMenu.classList.toggle("nav__menu--active"),console.log(navMenuItems),navMenuItems.forEach(function(t){t.addEventListener("click",function(){navMenu.classList.remove("nav__menu--active"),hamburgerBtn.setAttribute("data-state","closed"),hamburgerBtn.setAttribute("aria-expanded","false")})})};document.addEventListener("DOMContentLoaded",main);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJibG9iIiwicGhvdG9Db250YWluZXIiLCJwaG90b3MiLCJteUVsZW1lbnQiLCJib3VuZGluZyIsIm15RWxlbWVudEhlaWdodCIsIm15RWxlbWVudFdpZHRoIiwic2xpZGVyQ29udGFpbmVyIiwic2xpZGVySXRlbXMiLCJzbGlkZXJDb250cm9sc0NvbnRhaW5lciIsInNsaWRlckNvbnRyb2xzIiwiYm9keSIsImNvbnRhY3RGb3JtTGFiZWxzIiwiY29udGFjdEZvcm1UZXh0QXJlYSIsInByZXBhcmVET01FbGVtZW50cyIsInByZXBhcmVET01FdmVudHMiLCJjb250YWN0Rm9ybVRleHRBcmVhTGFiZWwiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ0ZXh0QXJlYUxhYmVsIiwicXVlcnlTZWxlY3RvckFsbCIsInBvcnRmb2xpb0Nhcm91c2VsIiwiZ2V0RWxlbWVudEJ5SWQiLCJoYW1idXJnZXJCdG4iLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJvZmZzZXRIZWlnaHQiLCJvZmZzZXRXaWR0aCIsIm5hdk1lbnUiLCJuYXZNZW51SXRlbXMiLCJoYW5kbGVDb250YWN0QW5pbWF0aW9uIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImVsZW1lbnRJblZpZXdwb3J0Iiwic2V0Q29udHJvbHMiLCJDYXJvdXNlbCIsInNldEF0dHJpYnV0ZSIsImN1cnJlbnRTdGF0ZSIsImNvbnRyb2xzIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsImNhcm91c2VsQ29udHJvbHMiLCJfY3JlYXRlQ2xhc3MiLCJrZXkiLCJ2YWx1ZSIsImNhcm91c2VsQXJyYXkiLCJmb3JFYWNoIiwiZWwiLCJyZW1vdmUiLCJjbGFzc0xpc3QiLCJjb250YWluZXIiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJpdGVtcyIsImFkZCIsImNvbmNhdCIsImkiLCJkaXJlY3Rpb24iLCJzaGlmdCIsInVuc2hpZnQiLCJwb3AiLCJ1cGRhdGVHYWxsZXJ5IiwiY29udHJvbCIsInNldEN1cnJlbnRTdGF0ZSIsImNsYXNzTmFtZSIsImNoaWxkTm9kZXMiLCJlIiwiX3RoaXMiLCJjbGllbnRYIiwiY2xpZW50WSIsImV2ZW50IiwidG9wIiwibGVmdCIsInJpZ2h0IiwiaW5uZXJXaWR0aCIsImRvY3VtZW50RWxlbWVudCIsImNsaWVudFdpZHRoIiwiZHVyYXRpb24iLCJpbm5lckhlaWdodCIsImNsaWVudEhlaWdodCIsInVzZUNvbnRyb2xzIiwic2Nyb2xsWSIsImFuaW1hdGUiLCJmaWxsIiwicmVtb3ZlQ29udGFjdEFuaW1hdGlvbiIsImxhYmVsIiwidGFyZ2V0IiwiY2xvc2VzdCIsIm1hdGNoZXMiLCJpbnB1dElkIiwiZ2V0QXR0cmlidXRlIiwiaW5wdXRFbGVtZW50IiwidHJpbSIsImhhbmRsZU5hdkFuaW1hdGlvbiIsImNvbnNvbGUiLCJsb2ciLCJ0b2dnbGUiLCJpdGVtIiwibWFpbiJdLCJtYXBwaW5ncyI6Im1oRUFBQSxJQUFJQSxLQUNBQyxlQUNBQyxPQUNBQyxVQUNBQyxTQUNBQyxnQkFDQUMsZUFDQUMsZ0JBQ0FDLFlBQ0FDLHdCQUNBQyxlQUNBQyxLQUNBQyxrQkFDQUMsb0JBYkFiLHlCQUNBQyxNQUNBQyxjQUNBQyxrQkFDQUMsYUFDQUMsUUFDQUMsYUFFQUUsS0FBQUEsV0FDSk0sbUJBQUlMLEVBQ0pNLGlCQUFrQixDQUNsQixFQUVJRixtQkFBbUIsV0FDdkJiLEtBQUlnQixTQUFBQSxjQUF3QixPQUFBLEVBQzVCZixlQUFTZ0IsU0FBQUMsY0FBQSxxQkFBQSxFQUNUaEIsT0FBSWlCLFNBQWFDLGlCQUFBLDJCQUFBLEVBQ2pCakIsVUFBSWtCLFNBQWlCQyxlQUFBLGNBQUEsRUFDckJsQixTQUFJbUIsVUFBWUMsc0JBQUEsRUFDaEJuQixnQkFBV0YsVUFBQXNCLGFBQUEsSUFDWG5CLGVBQWdCSCxVQUFBdUIsWUFFaEJuQixnQkFBYVUsU0FBTUMsY0FBQSxrQkFBQSxFQWNsQlYsWUFiQU0sU0FBb0JNLGlCQUFBLHVCQUFBLEVBY3BCWCx3QkFia0JRLFNBQUFD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QUFBQSxPQUFBQSxRQUF5Qix5QkFBekJBLEdBQ0xxRCx1QkFBcUIsR0FNcEIvRCxjQUxBK0QsRUFBQUEsT0FBdUJHLFFBQUMsS0FBQSxFQUFBbkUsY0FBQSxzQkFBQSxHQUNka0UsVUFBT0MsSUFBUSwrQkFBcUIsR0FFL0NILHVCQUFvQkksQ0FPckIsRUFIRUosdUJBQU0sV0FNUHRFLGtCQUxDc0UsUUFBdUIsU0FBQUMsR0FDeEIsSUFBQUksRUFBQUosRUFBQUssYUFBQSxLQUFBLEVBTStCbEUsS0FML0JMLFNBQUFLLGVBQUFpRSxDQUFBLEVBS09FLE1BQWV4RSxLQUFBQSxHQUtwQmtFLEVBSkRuQyxVQUFBRCxPQUFBLDRCQUFBLENBTUQsQ0FBQyxFQUZ3QixLQUlyQmxDLG9CQUpja0MsTUFBTzJDLEtBQUEsR0FLeEIxRSx5QkFKQWdDLFVBQUFELE9BQUEsK0JBQUEsQ0FNRixFQUFDNEMsbUJBQUEsV0FHRGhFLFFBQU1nRSxVQUFBQSxPQUFxQixtQkFBckJBLEVBRUxDLFFBRE9DLElBQUM3QyxZQUFVOEMsRUFFbEJsRSxhQURZQSxRQUFBQSxTQUFBQSxHQUNaQSxFQUFBQSxpQkFBcUIsUUFBQW1FLFdBRW5CcEUsUUFESUksVUFBQUEsT0FBaUIsbUJBQWUsRUFFcENSLGFBRFF5QixhQUFVRCxhQUFPLFFBQW9CLEVBRTdDeEIsYUFEQUEsYUFBYVksZ0JBQTJCLE9BQUEsQ0FFekMsQ0FBQyxDQUNGLENBQUMsQ0FDRixFQUVBbEIsU0FBU2MsaUJBQWlCLG1CQUFvQmlFLElBQUkiLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCBibG9iXHJcbmxldCBwaG90b0NvbnRhaW5lclxyXG5sZXQgcGhvdG9zXHJcbmxldCBteUVsZW1lbnRcclxubGV0IGJvdW5kaW5nXHJcbmxldCBteUVsZW1lbnRIZWlnaHRcclxubGV0IG15RWxlbWVudFdpZHRoXHJcbmxldCBzbGlkZXJDb250YWluZXJcclxubGV0IHNsaWRlckl0ZW1zXHJcbmxldCBzbGlkZXJDb250cm9sc0NvbnRhaW5lclxyXG5sZXQgc2xpZGVyQ29udHJvbHNcclxubGV0IGJvZHlcclxubGV0IGNvbnRhY3RGb3JtTGFiZWxzXHJcbmxldCBjb250YWN0Rm9ybVRleHRBcmVhXHJcbmxldCBjb250YWN0Rm9ybVRleHRBcmVhTGFiZWxcclxubGV0IGxhYmVsXHJcbmxldCB0ZXh0QXJlYUxhYmVsXHJcbmxldCBwb3J0Zm9saW9DYXJvdXNlbFxyXG5sZXQgaGFtYnVyZ2VyQnRuXHJcbmxldCBuYXZNZW51XHJcbmxldCBuYXZNZW51SXRlbXNcclxuXHJcbmNvbnN0IG1haW4gPSAoKSA9PiB7XHJcblx0cHJlcGFyZURPTUVsZW1lbnRzKClcclxuXHRwcmVwYXJlRE9NRXZlbnRzKClcclxufVxyXG5cclxuY29uc3QgcHJlcGFyZURPTUVsZW1lbnRzID0gKCkgPT4ge1xyXG5cdGJsb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmxvYicpXHJcblx0cGhvdG9Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWJvdXRtZV9fY29udGFpbmVyJylcclxuXHRwaG90b3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWJvdXRtZV9fY29udGFpbmVyLXBob3RvJylcclxuXHRteUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWJvdXRtZVBob3RvJylcclxuXHRib3VuZGluZyA9IG15RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxyXG5cdG15RWxlbWVudEhlaWdodCA9IG15RWxlbWVudC5vZmZzZXRIZWlnaHQgLSA0MDBcclxuXHRteUVsZW1lbnRXaWR0aCA9IG15RWxlbWVudC5vZmZzZXRXaWR0aFxyXG5cdHNsaWRlckNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3J0Zm9saW9fX2xpc3QnKVxyXG5cdHNsaWRlckl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBvcnRmb2xpb19fbGlzdC1pdGVtJylcclxuXHRzbGlkZXJDb250cm9sc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3J0Zm9saW9fX2xpc3QtY29udHJvbHMnKVxyXG5cdHNsaWRlckNvbnRyb2xzID0gWydwcmV2aW91cycsICduZXh0J11cclxuXHRib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpXHJcblx0Y29udGFjdEZvcm1MYWJlbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY29udGFjdF9fZm9ybS1sYWJlbCcpXHJcblx0Y29udGFjdEZvcm1UZXh0QXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0X19mb3JtLXRleHRBcmVhJylcclxuXHRjb250YWN0Rm9ybVRleHRBcmVhTGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFjdF9fZm9ybS1sYWJlbC0tbXNnJylcclxuXHRwb3J0Zm9saW9DYXJvdXNlbCA9IG5ldyBDYXJvdXNlbChzbGlkZXJDb250YWluZXIsIHNsaWRlckl0ZW1zLCBzbGlkZXJDb250cm9scylcclxuXHRoYW1idXJnZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2X19idG4nKVxyXG5cdG5hdk1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2X19tZW51JylcclxuXHRuYXZNZW51SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2X19tZW51LWl0ZW0nKVxyXG59XHJcblxyXG5jb25zdCBwcmVwYXJlRE9NRXZlbnRzID0gKCkgPT4ge1xyXG5cdGJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVDb250YWN0QW5pbWF0aW9uKVxyXG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBlbGVtZW50SW5WaWV3cG9ydClcclxuXHRwb3J0Zm9saW9DYXJvdXNlbC5zZXRDb250cm9scygpXHJcblx0cG9ydGZvbGlvQ2Fyb3VzZWwudXNlQ29udHJvbHMoKVxyXG5cdGhhbWJ1cmdlckJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZU5hdkFuaW1hdGlvbilcclxuXHRoYW1idXJnZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRjb25zdCBjdXJyZW50U3RhdGUgPSBoYW1idXJnZXJCdG4uZ2V0QXR0cmlidXRlKCdkYXRhLXN0YXRlJylcclxuXHRcclxuXHRcdGlmICghY3VycmVudFN0YXRlIHx8IGN1cnJlbnRTdGF0ZSA9PT0gJ2Nsb3NlZCcpIHtcclxuXHRcdFx0aGFtYnVyZ2VyQnRuLnNldEF0dHJpYnV0ZSgnZGF0YS1zdGF0ZScsICdvcGVuZWQnKVxyXG5cdFx0XHRoYW1idXJnZXJCdG4uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aGFtYnVyZ2VyQnRuLnNldEF0dHJpYnV0ZSgnZGF0YS1zdGF0ZScsICdjbG9zZWQnKVxyXG5cdFx0XHRoYW1idXJnZXJCdG4uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJylcclxuXHRcdH1cclxuXHR9KVxyXG59XHJcblxyXG5jbGFzcyBDYXJvdXNlbCB7XHJcblx0Y29uc3RydWN0b3IoY29udGFpbmVyLCBpdGVtcywgY29udHJvbHMpIHtcclxuXHRcdHRoaXMuY2Fyb3VzZWxDb250YWluZXIgPSBjb250YWluZXJcclxuXHRcdHRoaXMuY2Fyb3VzZWxDb250cm9scyA9IGNvbnRyb2xzXHJcblx0XHR0aGlzLmNhcm91c2VsQXJyYXkgPSBbLi4uaXRlbXNdXHJcblx0fVxyXG5cclxuXHR1cGRhdGVHYWxsZXJ5KCkge1xyXG5cdFx0dGhpcy5jYXJvdXNlbEFycmF5LmZvckVhY2goZWwgPT4ge1xyXG5cdFx0XHRlbC5jbGFzc0xpc3QucmVtb3ZlKCdwb3J0Zm9saW9fX2xpc3QtaXRlbS0tMScpXHJcblx0XHRcdGVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcnRmb2xpb19fbGlzdC1pdGVtLS0yJylcclxuXHRcdFx0ZWwuY2xhc3NMaXN0LnJlbW92ZSgncG9ydGZvbGlvX19saXN0LWl0ZW0tLTMnKVxyXG5cdFx0fSlcclxuXHJcblx0XHR0aGlzLmNhcm91c2VsQXJyYXkuc2xpY2UoMCwgMykuZm9yRWFjaCgoZWwsIGkpID0+IHtcclxuXHRcdFx0ZWwuY2xhc3NMaXN0LmFkZChgcG9ydGZvbGlvX19saXN0LWl0ZW0tLSR7aSArIDF9YClcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHRzZXRDdXJyZW50U3RhdGUoZGlyZWN0aW9uKSB7XHJcblx0XHRpZiAoZGlyZWN0aW9uLmNsYXNzTmFtZSA9PSAncG9ydGZvbGlvX19saXN0LWNvbnRyb2xzLW5leHQnKSB7XHJcblx0XHRcdHRoaXMuY2Fyb3VzZWxBcnJheS5wdXNoKHRoaXMuY2Fyb3VzZWxBcnJheS5zaGlmdCgpKVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5jYXJvdXNlbEFycmF5LnVuc2hpZnQodGhpcy5jYXJvdXNlbEFycmF5LnBvcCgpKVxyXG5cdFx0fVxyXG5cdFx0dGhpcy51cGRhdGVHYWxsZXJ5KClcclxuXHR9XHJcblxyXG5cdHNldENvbnRyb2xzKCkge1xyXG5cdFx0dGhpcy5jYXJvdXNlbENvbnRyb2xzLmZvckVhY2goY29udHJvbCA9PiB7XHJcblx0XHRcdHNsaWRlckNvbnRyb2xzQ29udGFpbmVyLmFwcGVuZENoaWxkKFxyXG5cdFx0XHRcdGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXHJcblx0XHRcdCkuY2xhc3NOYW1lID0gYHBvcnRmb2xpb19fbGlzdC1jb250cm9scy0ke2NvbnRyb2x9YFxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdHVzZUNvbnRyb2xzKCkge1xyXG5cdFx0Y29uc3QgdHJpZ2dlcnMgPSBbLi4uc2xpZGVyQ29udHJvbHNDb250YWluZXIuY2hpbGROb2Rlc11cclxuXHRcdHRyaWdnZXJzLmZvckVhY2goY29udHJvbCA9PiB7XHJcblx0XHRcdGNvbnRyb2wuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KClcclxuXHRcdFx0XHR0aGlzLnNldEN1cnJlbnRTdGF0ZShjb250cm9sKVxyXG5cdFx0XHR9KVxyXG5cdFx0fSlcclxuXHR9XHJcbn1cclxuXHJcbndpbmRvdy5vbnBvaW50ZXJtb3ZlID0gZXZlbnQgPT4ge1xyXG5cdGNvbnN0IHsgY2xpZW50WCwgY2xpZW50WSB9ID0gZXZlbnRcclxuXHJcblx0aWYgKHNjcm9sbFkgPD0gMzMwMCAmJiBibG9iKSB7XHJcblx0XHRibG9iLmFuaW1hdGUoXHJcblx0XHRcdHtcclxuXHRcdFx0XHRsZWZ0OiBgJHtjbGllbnRYfXB4YCxcclxuXHRcdFx0XHR0b3A6IGAke2NsaWVudFkgKyB3aW5kb3cuc2Nyb2xsWX1weGAsXHJcblx0XHRcdH0sXHJcblx0XHRcdHsgZHVyYXRpb246IDMwMDAsIGZpbGw6ICdmb3J3YXJkcycgfVxyXG5cdFx0KVxyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gZWxlbWVudEluVmlld3BvcnQoKSB7XHJcblx0Y29uc3QgYm91bmRpbmcgPSBteUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcclxuXHJcblx0aWYgKFxyXG5cdFx0Ym91bmRpbmcudG9wID49IC1teUVsZW1lbnRIZWlnaHQgJiZcclxuXHRcdGJvdW5kaW5nLmxlZnQgPj0gLW15RWxlbWVudFdpZHRoICYmXHJcblx0XHRib3VuZGluZy5yaWdodCA8PSAod2luZG93LmlubmVyV2lkdGggfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKSArIG15RWxlbWVudFdpZHRoICYmXHJcblx0XHRib3VuZGluZy5ib3R0b20gPD0gKHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KSArIG15RWxlbWVudEhlaWdodFxyXG5cdCkge1xyXG5cdFx0cGhvdG9Db250YWluZXIuY2xhc3NMaXN0LmFkZCgnYWJvdXRtZV9fY29udGFpbmVyLXRyYW5zZm9ybWVkJylcclxuXHRcdHBob3Rvc1swXS5jbGFzc0xpc3QuYWRkKCdhYm91dG1lX19jb250YWluZXItcGhvdG8tdHJhbnNmb3JtZWQtLWZvdXJ0aCcpXHJcblx0XHRwaG90b3NbMV0uY2xhc3NMaXN0LmFkZCgnYWJvdXRtZV9fY29udGFpbmVyLXBob3RvLXRyYW5zZm9ybWVkLS10aGlyZCcpXHJcblx0XHRwaG90b3NbMl0uY2xhc3NMaXN0LmFkZCgnYWJvdXRtZV9fY29udGFpbmVyLXBob3RvLXRyYW5zZm9ybWVkLS1zZWNvbmQnKVxyXG5cdFx0cGhvdG9zWzNdLmNsYXNzTGlzdC5hZGQoJ2Fib3V0bWVfX2NvbnRhaW5lci1waG90by10cmFuc2Zvcm1lZC0tZmlyc3QnKVxyXG5cdH0gZWxzZSB7XHJcblx0XHRwaG90b0NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdhYm91dG1lX19jb250YWluZXItdHJhbnNmb3JtZWQnKVxyXG5cdFx0cGhvdG9zWzBdLmNsYXNzTGlzdC5yZW1vdmUoJ2Fib3V0bWVfX2NvbnRhaW5lci1waG90by10cmFuc2Zvcm1lZC0tZm91cnRoJylcclxuXHRcdHBob3Rvc1sxXS5jbGFzc0xpc3QucmVtb3ZlKCdhYm91dG1lX19jb250YWluZXItcGhvdG8tdHJhbnNmb3JtZWQtLXRoaXJkJylcclxuXHRcdHBob3Rvc1syXS5jbGFzc0xpc3QucmVtb3ZlKCdhYm91dG1lX19jb250YWluZXItcGhvdG8tdHJhbnNmb3JtZWQtLXNlY29uZCcpXHJcblx0XHRwaG90b3NbM10uY2xhc3NMaXN0LnJlbW92ZSgnYWJvdXRtZV9fY29udGFpbmVyLXBob3RvLXRyYW5zZm9ybWVkLS1maXJzdCcpXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBoYW5kbGVDb250YWN0QW5pbWF0aW9uID0gZSA9PiB7XHJcblx0aWYgKGUudGFyZ2V0Lm1hdGNoZXMoJy5jb250YWN0X19mb3JtLWlucHV0JykpIHtcclxuXHRcdHJlbW92ZUNvbnRhY3RBbmltYXRpb24oKVxyXG5cdFx0bGFiZWwgPSBlLnRhcmdldC5jbG9zZXN0KCdkaXYnKS5xdWVyeVNlbGVjdG9yKCcuY29udGFjdF9fZm9ybS1sYWJlbCcpXHJcblx0XHRsYWJlbC5jbGFzc0xpc3QuYWRkKCdjb250YWN0X19mb3JtLWxhYmVsLS1tb3ZlZCcpXHJcblx0fSBlbHNlIGlmIChlLnRhcmdldC5tYXRjaGVzKCcuY29udGFjdF9fZm9ybS10ZXh0QXJlYScpKSB7XHJcblx0XHRyZW1vdmVDb250YWN0QW5pbWF0aW9uKClcclxuXHRcdHRleHRBcmVhTGFiZWwgPSBlLnRhcmdldC5jbG9zZXN0KCdkaXYnKS5xdWVyeVNlbGVjdG9yKCcuY29udGFjdF9fZm9ybS1sYWJlbCcpXHJcblx0XHR0ZXh0QXJlYUxhYmVsLmNsYXNzTGlzdC5hZGQoJ2NvbnRhY3RfX2Zvcm0tbGFiZWwtLW1zZ01vdmVkJylcclxuXHR9IGVsc2Uge1xyXG5cdFx0cmVtb3ZlQ29udGFjdEFuaW1hdGlvbigpXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCByZW1vdmVDb250YWN0QW5pbWF0aW9uID0gKCkgPT4ge1xyXG5cdGNvbnRhY3RGb3JtTGFiZWxzLmZvckVhY2gobGFiZWwgPT4ge1xyXG5cdFx0Y29uc3QgaW5wdXRJZCA9IGxhYmVsLmdldEF0dHJpYnV0ZSgnZm9yJylcclxuXHRcdGNvbnN0IGlucHV0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlucHV0SWQpXHJcblx0XHQvLyBjb25zb2xlLmxvZyhpbnB1dElkKTtcclxuXHRcdC8vIGNvbnNvbGUubG9nKGlucHV0RWxlbWVudCk7XHJcblxyXG5cdFx0aWYgKGlucHV0RWxlbWVudC52YWx1ZS50cmltKCkgPT09ICcnKSB7XHJcblx0XHRcdGxhYmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2NvbnRhY3RfX2Zvcm0tbGFiZWwtLW1vdmVkJylcclxuXHRcdH1cclxuXHR9KVxyXG5cclxuXHRpZiAoY29udGFjdEZvcm1UZXh0QXJlYS52YWx1ZS50cmltKCkgPT09ICcnKSB7XHJcblx0XHRjb250YWN0Rm9ybVRleHRBcmVhTGFiZWwuY2xhc3NMaXN0LnJlbW92ZSgnY29udGFjdF9fZm9ybS1sYWJlbC0tbXNnTW92ZWQnKVxyXG5cdH1cclxufVxyXG5cclxuXHJcbmNvbnN0IGhhbmRsZU5hdkFuaW1hdGlvbiA9ICgpID0+IHtcclxuXHRuYXZNZW51LmNsYXNzTGlzdC50b2dnbGUoJ25hdl9fbWVudS0tYWN0aXZlJylcclxuXHRjb25zb2xlLmxvZyhuYXZNZW51SXRlbXMpO1xyXG5cdG5hdk1lbnVJdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG5cdFx0aXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdFx0bmF2TWVudS5jbGFzc0xpc3QucmVtb3ZlKCduYXZfX21lbnUtLWFjdGl2ZScpXHJcblx0XHRcdGhhbWJ1cmdlckJ0bi5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3RhdGUnLCAnY2xvc2VkJylcclxuXHRcdFx0aGFtYnVyZ2VyQnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpXHJcblx0XHR9KVxyXG5cdH0pXHJcbn1cclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBtYWluKVxyXG4iXX0=
